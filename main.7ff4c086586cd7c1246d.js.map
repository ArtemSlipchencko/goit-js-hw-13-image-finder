{"version":3,"sources":["webpack:///./js/searchImage.js","webpack:///./index.js"],"names":["input","document","querySelector","list","page","keyWord","renderTimes","loadMore","screenY","documentElement","scrollHeight","searchImage","console","log","window","scrollTo","top","behavior","word","value","fetch","then","data","json","renderImage","innerHTML","body","insertAdjacentHTML","addEventListener","images","hits","forEach","el","webformatURL","likes","views","comments","downloads"],"mappings":"2LAAaA,EAAQC,SAASC,cAAc,kBACtCC,EAAOF,SAASC,cAAc,YAChCE,EAAO,EACPC,EAAU,GACVC,EAAc,EAEZC,EAAW,WAEb,IAAMC,EAAUP,SAASQ,gBAAgBC,aACzCC,IACAC,QAAQC,IAAIL,GACZM,OAAOC,SAAS,CACZC,IAAKR,EACLS,SAAU,YAMLN,EAAc,WAEvB,IAAIO,EAAOlB,EAAMmB,MAEjB,GAAID,IAASb,EAETD,GAAQ,EAERgB,MAAM,sEAAsEF,EAAvE,SAAoFd,EAApF,uDACJiB,MAAK,SAAAC,GAAI,OAAIA,EAAKC,UAClBF,MAAK,SAAAC,GAAI,OAAIE,EAAYF,UAIvB,CAEHnB,EAAKsB,UAAY,GAEjBL,MAAM,sEAAsEF,EAAvE,SAAoFd,EAApF,uDACJiB,MAAK,SAAAC,GAAI,OAAIA,EAAKC,UAClBF,MAAK,SAAAC,GAAI,OAAIE,EAAYF,MAEVrB,SAASQ,gBAAgBC,aAErB,IAAhBJ,IAEAL,SAASyB,KAAKC,mBAAmB,YAAjC,iEACA1B,SAASC,cAAc,cAAc0B,iBAAiB,QAASrB,GAC/DD,GAAe,GAKnBD,EAAUa,IAQZM,EAAc,SAASK,GAEzB,UAAIA,EAAOC,MAAMC,SAAQ,SAAAC,GAErB7B,EAAKsB,WAAL,+EAE6CO,EAAGC,aAFhD,yKAMcD,EAAGE,MANjB,qJAUcF,EAAGG,MAVjB,kJAccH,EAAGI,SAdjB,yJAkBcJ,EAAGK,UAlBjB,gEC5DRrC,EAAM4B,iBAAiB,SAAUjB,K","file":"main.7ff4c086586cd7c1246d.js","sourcesContent":["export const input = document.querySelector('[name=\"query\"]');\r\nconst list = document.querySelector('.gallery');\r\nlet page = 1;\r\nlet keyWord = '';\r\nlet renderTimes = 1;\r\n\r\nconst loadMore = function() {\r\n\r\n    const screenY = document.documentElement.scrollHeight;\r\n    searchImage();\r\n    console.log(screenY);\r\n    window.scrollTo({\r\n        top: screenY,\r\n        behavior: 'smooth'\r\n    });\r\n    \r\n\r\n};\r\n\r\nexport const searchImage = function() {\r\n\r\n    let word = input.value;\r\n\r\n    if (word === keyWord) {\r\n\r\n        page += 1;\r\n\r\n        fetch(`https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${word}&page=${page}&per_page=12&key=18951897-f7110a11ebc58b866f93acf70`)\r\n        .then(data => data.json())\r\n        .then(data => renderImage(data));\r\n\r\n        \r\n\r\n    } else {\r\n\r\n        list.innerHTML = '';\r\n\r\n        fetch(`https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${word}&page=${page}&per_page=12&key=18951897-f7110a11ebc58b866f93acf70`)\r\n        .then(data => data.json())\r\n        .then(data => renderImage(data));\r\n        \r\n        const screenY = document.documentElement.scrollHeight;\r\n        \r\n        if (renderTimes === 1) {\r\n\r\n            document.body.insertAdjacentHTML('beforeend', `<button type=\"button\" class=\"load-more\">Load more...</button>`);\r\n            document.querySelector('.load-more').addEventListener('click', loadMore);\r\n            renderTimes += 1;\r\n\r\n        }\r\n        \r\n        \r\n        keyWord = word;\r\n\r\n    };\r\n\r\n    \r\n\r\n};\r\n\r\nconst renderImage = function(images) {\r\n\r\n    [...images.hits].forEach(el => {\r\n\r\n        list.innerHTML += \r\n        `<li class=\"photo-card\">\r\n            <img height=\"400px\" width=\"300px\" src=\"${el.webformatURL}\" alt=\"\" />\r\n            <div class=\"stats\">\r\n                <p class=\"stats-item\">\r\n                    <i class=\"material-icons\">thumb_up</i>\r\n                    ${el.likes}\r\n                </p>\r\n                <p class=\"stats-item\">\r\n                    <i class=\"material-icons\">visibility</i>\r\n                    ${el.views}\r\n                </p>\r\n                <p class=\"stats-item\">\r\n                    <i class=\"material-icons\">comment</i>\r\n                    ${el.comments}\r\n                </p>\r\n                <p class=\"stats-item\">\r\n                    <i class=\"material-icons\">cloud_download</i>\r\n                    ${el.downloads}\r\n                </p>\r\n            </div>\r\n        </li>`;\r\n\r\n    });\r\n\r\n};","import css from \"./css/style.css\";\r\nimport {input} from './js/searchImage.js';\r\nimport {searchImage} from './js/searchImage.js';\r\n\r\ninput.addEventListener('change', searchImage);\r\n\r\n"],"sourceRoot":""}